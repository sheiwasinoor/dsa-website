// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id       String @id @default(cuid())
  email    String @unique
  password String
  role     String @default("admin")
}

enum Destination {
  landscape
  lighting
  youngArt
}

model Project {
  id             String   @id @default(cuid())
  slug           String   @unique
  titleEn        String
  titleZh        String
  categoryEn     String
  categoryZh     String
  descriptionEn  String?
  descriptionZh  String?
  location       String?
  client         String?
  status         String?
  service        String?
  keywords       String?

  theme Destination @default(landscape)

  // ðŸ”¥ Protected controlled dropdown
  destination    Destination @default(landscape)

  coverImageUrl  String?
  createdAt      DateTime @default(now())
  images         ProjectImage[]
}

model ProjectImage {
  id        String  @id @default(cuid())
  projectId String
  url       String
  altEn     String?
  altZh     String?
  isCover   Boolean @default(false)

  project Project @relation(fields: [projectId], references: [id])
}

model NewsPost {
  id        String   @id @default(cuid())
  slug      String   @unique
  titleEn   String
  titleZh   String
  bodyEn    String
  bodyZh    String
  imageUrl  String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  published Boolean  @default(true)
}

model ContactSubmission {
  id          String   @id @default(cuid())
  firstName   String
  lastName    String
  mobile      String
  email       String
  status      String
  location    String
  position    String
  message     String
  resumeUrl   String?
  portfolioUrl String?
  createdAt   DateTime @default(now())
}